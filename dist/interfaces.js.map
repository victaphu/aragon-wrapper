{"version":3,"sources":["../src/interfaces.js"],"names":["ABIS","abiAragonACL","abi","abiAragonAppProxy","abiAragonERCProxy","abiAragonForwarder","abiAragonForwarderFee","abiAragonKernel","abiAragonEVMScriptRegistry","abiApmRegistry","abiApmRepo","abiApmEnsSubdomainRegistrar","abiERC20","ARTIFACTS","artifactsAragonACL","artifactsAragonKernel","artifactsAragonEVMScriptRegistry","artifactsApmRegistry","artifactsApmRepo","artifactsApmEnsSubdomainRegistrar","SYSTEM_APP_MAPPINGS","Map","APM_APP_MAPPINGS","APP_NAMESPACE_MAPPINGS","getAbi","name","getArtifact","getAppInfo","appId","namespace","nameMapping","get","has","app","artifact","hasAppInfo","mapping","Boolean"],"mappings":"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","sourcesContent":["import { apmAppId } from './utils/apps'\n\n// ABIs\nimport abiAragonACL from '@aragon/os/abi/ACL'\nimport abiAragonAppProxy from '@aragon/os/abi/AppProxyBase'\nimport abiAragonERCProxy from '@aragon/os/abi/ERCProxy'\nimport abiAragonForwarder from '@aragon/os/abi/IForwarder'\nimport abiAragonForwarderFee from '@aragon/os/abi/IForwarderFee'\nimport abiAragonKernel from '@aragon/os/abi/Kernel'\nimport abiAragonEVMScriptRegistry from '@aragon/os/abi/EVMScriptRegistry'\nimport abiERC20 from '@aragon/os/abi/ERC20'\nimport abiApmRegistry from '@aragon/os/abi/APMRegistry'\nimport abiApmRepo from '@aragon/os/abi/Repo'\nimport abiApmEnsSubdomainRegistrar from '@aragon/os/abi/ENSSubdomainRegistrar'\n\n// Artifacts\nimport artifactsAragonACL from '../artifacts/aragon/ACL.json'\nimport artifactsAragonKernel from '../artifacts/aragon/Kernel.json'\nimport artifactsAragonEVMScriptRegistry from '../artifacts/aragon/EVMScriptRegistry.json'\nimport artifactsApmRegistry from '../artifacts/apm/APMRegistry.json'\nimport artifactsApmRepo from '../artifacts/apm/Repo.json'\nimport artifactsApmEnsSubdomainRegistrar from '../artifacts/apm/ENSSubdomainRegistrar.json'\n\nconst ABIS = {\n  'aragon/ACL': abiAragonACL.abi,\n  'aragon/AppProxy': abiAragonAppProxy.abi,\n  'aragon/ERCProxy': abiAragonERCProxy.abi,\n  'aragon/Forwarder': abiAragonForwarder.abi,\n  'aragon/ForwarderFee': abiAragonForwarderFee.abi,\n  'aragon/Kernel': abiAragonKernel.abi,\n  'aragon/EVM Script Registry': abiAragonEVMScriptRegistry.abi,\n  'apm/APM Registry': abiApmRegistry.abi,\n  'apm/Repo': abiApmRepo.abi,\n  'apm/ENS Subdomain Registrar': abiApmEnsSubdomainRegistrar.abi,\n  'standard/ERC20': abiERC20.abi\n}\n\nconst ARTIFACTS = {\n  'aragon/ACL': artifactsAragonACL,\n  'aragon/Kernel': artifactsAragonKernel,\n  'aragon/EVM Script Registry': artifactsAragonEVMScriptRegistry,\n  'apm/APM Registry': artifactsApmRegistry,\n  'apm/Repo': artifactsApmRepo,\n  'apm/ENS Subdomain Registrar': artifactsApmEnsSubdomainRegistrar\n}\n\nconst SYSTEM_APP_MAPPINGS = new Map([\n  [apmAppId('acl'), 'ACL'],\n  [apmAppId('evmreg'), 'EVM Script Registry'],\n  [apmAppId('kernel'), 'Kernel']\n])\n\nconst APM_APP_MAPPINGS = new Map([\n  [apmAppId('apm-registry'), 'APM Registry'],\n  [apmAppId('apm-repo'), 'Repo'],\n  [apmAppId('apm-enssub'), 'ENS Subdomain Registrar'],\n  // Support open.aragonpm.eth's native packages\n  // Note that these were erroneously deployed on the open.aragonpm.eth instance rather than\n  // reusing the aragonpm.eth versions\n  [apmAppId('apm-registry.open'), 'APM Registry'],\n  [apmAppId('apm-repo.open'), 'Repo'],\n  [apmAppId('apm-enssub.open'), 'ENS Subdomain Registrar'],\n  // Support hatch.aragonpm.eth's native packages (see note above for `open.aragonpm.eth`)\n  [apmAppId('apm-registry.hatch'), 'APM Registry'],\n  [apmAppId('apm-repo.hatch'), 'Repo'],\n  [apmAppId('apm-enssub.hatch'), 'ENS Subdomain Registrar']\n])\n\nconst APP_NAMESPACE_MAPPINGS = new Map([\n  ['aragon', SYSTEM_APP_MAPPINGS],\n  ['apm', APM_APP_MAPPINGS]\n])\n\nexport const getAbi = name => ABIS[name] || null\nexport const getArtifact = name => ARTIFACTS[name] || null\n\nexport function getAppInfo (appId, namespace) {\n  const nameMapping = APP_NAMESPACE_MAPPINGS.get(namespace)\n\n  if (!nameMapping || !nameMapping.has(appId)) {\n    return null\n  }\n\n  const name = nameMapping.get(appId)\n  const app = `${namespace}/${name}`\n  const abi = getAbi(app)\n  const artifact = getArtifact(app)\n\n  return {\n    abi,\n    name,\n    ...artifact\n  }\n}\nexport function hasAppInfo (appId, namespace) {\n  const mapping = APP_NAMESPACE_MAPPINGS.get(namespace)\n  return Boolean(mapping) && mapping.has(appId)\n}\n"],"file":"interfaces.js"}