{"version":3,"sources":["../../../src/rpc/handlers/events.js"],"names":["request","proxy","params","length","eventNames","eventOptions","events","fromBlock"],"mappings":";;;;;;;AAAA;;AAEe,kBAAUA,OAAV,EAAmBC,KAAnB,EAA0B;AACvC;AACA;AACA;AACA,MAAID,OAAO,CAACE,MAAR,CAAeC,MAAf,KAA0B,CAA9B,EAAiC;AAC/B;AACA,UAAMC,UAAU,GAAG,2BAAcJ,OAAO,CAACE,MAAR,CAAe,CAAf,CAAd,CAAnB;AACA,UAAMG,YAAY,GAAGL,OAAO,CAACE,MAAR,CAAe,CAAf,CAArB;AACA,WAAOD,KAAK,CAACK,MAAN,CAAaF,UAAb,EAAyBC,YAAzB,CAAP;AACD,GALD,MAKO,IAAIL,OAAO,CAACE,MAAR,CAAeC,MAAf,IAAyB,CAA7B,EAAgC;AACrC;AACA,UAAMI,SAAS,GAAGP,OAAO,CAACE,MAAR,CAAe,CAAf,CAAlB;AACA,WAAOD,KAAK,CAACK,MAAN,CAAa,IAAb,EAAmB;AAAEC,MAAAA;AAAF,KAAnB,CAAP;AACD,GAbsC,CAevC;;;AACA,SAAON,KAAK,CAACK,MAAN,EAAP;AACD","sourcesContent":["import { getEventNames } from '../../utils/events'\n\nexport default function (request, proxy) {\n  // `events` RPC compatibility with aragonAPI versions:\n  //   - aragonAPIv2: `'events', [eventNames, eventOptions]`\n  //   - aragonAPIv1: `'events', [fromBlock (optional)]`\n  if (request.params.length === 2) {\n    // aragonAPIv2\n    const eventNames = getEventNames(request.params[0])\n    const eventOptions = request.params[1]\n    return proxy.events(eventNames, eventOptions)\n  } else if (request.params.length <= 1) {\n    // aragonAPIv1\n    const fromBlock = request.params[0]\n    return proxy.events(null, { fromBlock })\n  }\n\n  // Otherwise, just use event defaults\n  return proxy.events()\n}\n"],"file":"events.js"}