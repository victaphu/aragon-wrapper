{"version":3,"sources":["../../../src/rpc/handlers/cache.js"],"names":["request","proxy","wrapper","cacheKey","address","params","cache","set","get","observe","Promise","reject","Error"],"mappings":";;;;;;;AAAA;;AAEe,kBAAUA,OAAV,EAAmBC,KAAnB,EAA0BC,OAA1B,EAAmC;AAChD,QAAMC,QAAQ,GAAG,wBAAYF,KAAK,CAACG,OAAlB,EAA2BJ,OAAO,CAACK,MAAR,CAAe,CAAf,CAA3B,CAAjB;;AAEA,MAAIL,OAAO,CAACK,MAAR,CAAe,CAAf,MAAsB,KAA1B,EAAiC;AAC/B,WAAOH,OAAO,CAACI,KAAR,CAAcC,GAAd,CAAkBJ,QAAlB,EAA4BH,OAAO,CAACK,MAAR,CAAe,CAAf,CAA5B,CAAP;AACD;;AAED,MAAIL,OAAO,CAACK,MAAR,CAAe,CAAf,MAAsB,KAA1B,EAAiC;AAC/B,WAAOH,OAAO,CAACI,KAAR,CAAcE,GAAd,CAAkBL,QAAlB,CAAP;AACD;;AAED,MAAIH,OAAO,CAACK,MAAR,CAAe,CAAf,MAAsB,SAA1B,EAAqC;AACnC,WAAOH,OAAO,CAACI,KAAR,CAAcG,OAAd,CAAsBN,QAAtB,CAAP;AACD;;AAED,SAAOO,OAAO,CAACC,MAAR,CACL,IAAIC,KAAJ,CAAU,yBAAV,CADK,CAAP;AAGD","sourcesContent":["import { getCacheKey } from '../../utils/index'\n\nexport default function (request, proxy, wrapper) {\n  const cacheKey = getCacheKey(proxy.address, request.params[1])\n\n  if (request.params[0] === 'set') {\n    return wrapper.cache.set(cacheKey, request.params[2])\n  }\n\n  if (request.params[0] === 'get') {\n    return wrapper.cache.get(cacheKey)\n  }\n\n  if (request.params[0] === 'observe') {\n    return wrapper.cache.observe(cacheKey)\n  }\n\n  return Promise.reject(\n    new Error('Invalid cache operation')\n  )\n}\n"],"file":"cache.js"}